{"version":3,"sources":["helpers/getCookie.js","components/Profile.js","components/Post.js","components/Posts.js","components/AddPost.js","image/close.svg","redux/types.js","components/posts123.js","helpers/setCookie.js","components/PopupEditor.js","redux/actions.js","components/PopupAddPost.js","components/ServerPost.js","components/Main.js","redux/postReducer.js","redux/profileReducer.js","redux/rootReducer.js","index.js"],"names":["getCookie","document","cookie","split","reduce","accum","current","decodeURIComponent","Profile","props","state","openEditor","className","style","backgroundImage","this","profileInfo","urlAvatar","nameUser","userID","onClick","takeInfo","React","Component","connect","profile","Post","arr","post","owner","idOwnerPost","avatarOwner","ownerPost","src","link","alt","event","target","closest","classList","toggle","likes","length","href","URL","text","syncPost","posts","map","item","index","AddPost","openAddPoster","CREATE_POST","SERVER_POSTS","NEW_INFO","postsArr","user","textPost","PopupEditor","handleUserData","bind","handleSubmit","setState","name","value","preventDefault","setProfileInfo","encodeURIComponent","setCookie","isClose","isOpen","close","onSubmit","onChange","type","autoComplete","pattern","placeholder","required","errMsg","maxLength","minLength","mapDispatchToProps","payload","PopupAddPost","createPost","ServerPosts","dispatch","useDispatch","serverPost","useSelector","useEffect","Main","useState","isEditProfilePopupOpen","setisEditProfilePopupOpen","isAddPostPopupOpen","setisAddPostPopupOpen","closeAllPopups","initialState","userName","rootReducer","combineReducers","action","concat","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","app","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.05cfda9b.chunk.js","sourcesContent":["export const getCookie = () => {\n    const cookie =  document.cookie;\n    let infoCookie = cookie.split('; ').reduce((accum, current) => {\n        accum[current.split('=')[0]] = decodeURIComponent(current.split('=')[1]);\n        return accum\n    }, {})\n    return infoCookie;\n}","import '../style/Profile.css'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { getCookie } from '../helpers/getCookie';\n\nclass Profile extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            // тут к нам приходит функция, которая устанавливает состояние для попапа-редактора профиля\n            openEditor: props.openEditor,\n        }\n    };\n\n    render() {\n        return (\n            <section className='block_profile'>\n                <div className='profile__img_container' style={{backgroundImage: `url(${this.props.profileInfo.urlAvatar})`}} ></div>\n                <p className='profile__name'>{this.props.profileInfo.nameUser}</p>\n                <p className='profile__id'>{this.props.profileInfo.userID}</p>\n                <button className='button profile__button_message' onClick={this.takeInfo}>Message</button>\n                <button onClick={this.state.openEditor} className='button profile__button_edit'>Edit</button>\n            </section>\n        )\n    }\n}\n\n// сохраняем определенное состояние для компонента, только то, которое нужно. Берем состояние из редюсера profile\nconst mapStateToProps = (state) => {\n    return {\n        profileInfo: state.profile.profile,\n    };\n};\n\nexport default connect(mapStateToProps, null)(Profile);","import '../style/Post.css';\nimport React from 'react';\n\nfunction Post({ post }) {\n\n    function isLike(event) {\n        event.target.closest('.post__like').classList.toggle('post__like_liked');\n        // это для будущего, чтобы снимать лайк и передавать на сервер нужный id\n        //event.target.closest(\".post\").getAttribute(\"owner\");\n    }\n    // иначе новый пост ломался из-за undefined\n    function countLike(arr) {\n        if(!arr) {return 0};\n        return arr.length\n    }\n\n    return (\n        <div className='post' owner={`${post.idOwnerPost}`}>\n            <div className='post__header'>\n                <div className='post__img_autor' style={{ backgroundImage: `url(${post.avatarOwner})` }}></div>\n                <p className='post__img_id'>{post.ownerPost}</p>\n                <button className='post__menu'>...</button>\n            </div>\n\n            <img src={`${post.link}`} className='post__img' alt='' />\n            <div className='post__buttons'>\n                <div className='like-container'>\n                    <button className='post__like' onClick={isLike}></button>\n                    <p className='post__like-sum'>{countLike(post.likes)}</p>\n                </div>\n                {/* <button className='post__share' onClick={share}>Share</button>                 */}\n                <a href={`https://vk.com/share.php?url=${document.URL}&title=TitleExam&description=Tratata&image=${post.link}`} target=\"_blank\">Share VK</a>\n            </div>\n            <p className='post__test'>{post.text}</p>\n        </div>\n    );\n}\n\nexport default Post","import React from 'react';\nimport Post from './Post';\nimport { connect } from 'react-redux';\n\nfunction Posts({ syncPost }) {\n    return syncPost.map((item, index) => {\n        //return document.querySelector('.posts-place').insertAdjacentHTML('afterbegin', <Post key={index + ' qwe'} post={item} />)\n        return <Post key={index + ' qwe'} post={item} />\n    });\n};\n// сохраняем определенное состояние для компонента, только то, которое нужно. Берем состояние из редюсера posts\nconst mapStateToProps = (state) => {\n    return {\n        syncPost: state.posts.posts,\n    };\n};\n\nexport default connect(mapStateToProps, null)(Posts);","import '../style/AddPost.css'\nimport React from 'react';\n\nclass AddPost extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            openAddPoster: props.openAddPoster\n        }\n\n    }\n\n    render() {\n        return (\n            <section className='add-post'>\n                <button onClick={this.state.openAddPoster} className='button add-post_button'>Add post</button>\n            </section>\n        )\n    }\n}\n\nexport default AddPost","export default __webpack_public_path__ + \"static/media/close.888d78eb.svg\";","export const CREATE_POST = 'POST/CREATE_POST';\nexport const SERVER_POSTS = 'POST/SERVER_POST';\nexport const NEW_INFO = 'PROFILE/NEW_INFO';\n// export const HIDE_LOADER = 'APP/HIDE_LOADER';\n// export const SHOW_ALERT = 'APP/ALERT_LOADER';\n// export const HIDE_ALERT = 'APP/ALERT_LOADER';","const postsArr = [\n    {\n        ownerPost: 'Sergey',\n        avatarOwner: 'https://cdn.pixabay.com/photo/2020/11/26/07/43/wapiti-5778159__340.jpg',\n        link: 'https://cdn.pixabay.com/photo/2020/11/15/17/25/trees-5746604__340.jpg',\n        text: 'I have no special talents. I am only passionately curious.',\n        idOwnerPost: '09090909',\n        likes: [\n            {user: '09090909'},\n            {user: '09090909'},\n            {user: '09090909'},\n            {user: '09090909'},\n        ]\n    },\n    {\n        ownerPost: 'Andrey',\n        avatarOwner: 'https://cdn.pixabay.com/photo/2020/09/13/18/03/geese-5568976__340.jpg',\n        link: 'https://cdn.pixabay.com/photo/2020/11/26/07/22/mountains-5778105__340.jpg',\n        text: 'I have no special talents. I am only passionately curious.',\n        idOwnerPost: '121212',\n        likes: [\n            {user: '121212'},\n        ]\n    },\n    {\n        ownerPost: 'Max',\n        avatarOwner: 'https://cdn.pixabay.com/photo/2020/11/24/18/19/cat-5773481__340.jpg',\n        link: 'https://cdn.pixabay.com/photo/2021/03/04/15/29/river-6068374__340.jpg',\n        text: 'I have no special talents. I am only passionately curious.',\n        idOwnerPost: '23232323',\n        likes: [\n        ]\n    },\n    {\n        ownerPost: 'Vary',\n        avatarOwner: 'https://cdn.pixabay.com/photo/2020/11/26/11/48/cat-5778777__340.jpg',\n        link: 'https://cdn.pixabay.com/photo/2021/03/04/15/29/river-6068374__340.jpg',\n        textPost: 'I have no special talents. I am only passionately curious.',\n        idOwnerPost: '3434343434',\n        likes: [\n            {user: '09090909'},\n            {user: '23232323'},\n            {user: '3434343434'},\n        ]\n    }, \n    {\n        ownerPost: 'Mary',\n        avatarOwner: 'https://cdn.pixabay.com/photo/2021/02/24/09/51/magical-6046019__340.jpg',\n        link: 'https://cdn.pixabay.com/photo/2020/11/05/20/16/horses-5716127__340.jpg',\n        text: 'I have no special talents. I am only passionately curious.',\n        idOwnerPost: '45454545',\n        likes: [\n            {user: '3434343434'},\n            {user: '45454545'},\n        ]\n    }\n]\n\nexport default postsArr","export const setCookie = ({ urlAvatar, nameUser, userID }) => {\n    document.cookie = `userName=${encodeURIComponent(nameUser)}`;\n    document.cookie = `urlAvatar=${encodeURIComponent(urlAvatar)}`;\n    document.cookie = `userID=${encodeURIComponent(userID)}`;\n}","import '../style/PopupEditor.css';\nimport close from '../image/close.svg';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { setProfileInfo } from '../redux/actions';\nimport { setCookie } from '../helpers/setCookie';\nimport { getCookie } from '../helpers/getCookie';\n\nclass PopupEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            urlAvatar: '',\n            nameUser: '',\n            userID: '',\n        }\n        this.handleUserData = this.handleUserData.bind(this)\n        this.handleSubmit = this.handleSubmit.bind(this)\n    }\n\n    handleUserData(event) {\n        this.setState({\n            [event.target.name]: event.target.value,\n        })\n    }\n\n    handleSubmit(event) {\n        event.preventDefault()\n        const { urlAvatar, nameUser, userID } = this.state;\n        this.props.setProfileInfo({\n            urlAvatar,\n            nameUser,\n            userID\n        });\n        setCookie({\n            urlAvatar,\n            nameUser,\n            userID\n        });\n        this.props.isClose();\n    }\n\n    render() {\n        return (\n            <div className={`popup-edit ${this.props.isOpen && 'popup_is-opened'}`}>\n                <div className=\"popup-edit__content\">\n                    <img onClick={this.props.isClose} src={close} alt=\"\" className=\"popup-edit__close\" />\n                    <h3 className=\"popup-edit__title\">Редактировать профиль</h3>\n                    <form onSubmit={this.handleSubmit} className=\"popup-edit__form\" name=\"newEdit\">\n                        <div>\n                            <input value={this.state.urlAvatar} onChange={this.handleUserData} type=\"text\" autoComplete=\"off\" name=\"urlAvatar\"\n                                pattern=\"^(http|https):\\/\\/\\w*.\\w*.\\w*.+\"\n                                className=\"popup-edit__input popup-avatar__input_type_name\" placeholder=\"Ссылка на аватар\" required />\n                            <div className=\"error\">{this.state.errMsg}</div>\n                        </div>\n                        <div>\n                            <input value={this.state.nameUser} onChange={this.handleUserData} type=\"text\" autoComplete=\"off\" name=\"nameUser\" className=\"popup-edit__input popup-edit__input_type_name\"\n                                placeholder=\"Имя\" required maxLength=\"30\" minLength=\"2\" />\n                            <div className=\"error\">{this.state.errMsg}</div>\n                        </div>\n                        <div>\n                            <input value={this.state.userID} onChange={this.handleUserData} type=\"text\" autoComplete=\"off\" name=\"userID\"\n                                className=\"popup-edit__input popup-edit__input_type_about-self\" placeholder=\"придумайте ID\" required maxLength=\"30\"\n                                minLength=\"2\" />\n                            <div className=\"error\">{this.state.errMsg}</div>\n                        </div>\n                        <button className=\"button popup__button\">Сохранить</button>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}\n// теперь в props есть функция устанавливающая новую информацию в хранилище\nconst mapDispatchToProps = {\n    setProfileInfo,\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        profileInfo: state.profile.profile,\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PopupEditor);","import { CREATE_POST, SERVER_POSTS, NEW_INFO } from \"./types\";\nimport postsArr from '../components/posts123';\n//создаем посты\nexport function createPost(post) {\n    return {\n        type: CREATE_POST, // указываем тип события\n        payload: post // тут сохраняем пришедший пост\n    }\n};\n\nexport function setProfileInfo(profile) {\n    return {\n        type: NEW_INFO, // указываем тип события\n        payload: profile // тут сохраняем пришедший пост\n    }\n};\n\n// посты загружаемые с @сервера@\nexport function fetchPosts() {\n    // имитируем загрузку с сервера\n    return ({\n        type: SERVER_POSTS,\n        payload: postsArr\n    })\n}","import '../style/PopupAddPost.css';\nimport close from '../image/close.svg';\n\nimport { createPost } from '../redux/actions';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass PopupAddPost extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ownerPost: 'Lulu',\n            idOwnerPost: '654321',\n            avatarOwner: 'https://cdn.pixabay.com/photo/2021/03/14/10/13/girl-6093779__340.jpg',\n            link: '',\n            text: ''\n        }\n        this.handleSubmit = this.handleSubmit.bind(this)\n        this.handleUserData = this.handleUserData.bind(this)\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        this.props.createPost(this.state);\n        this.setState({\n            link: '',\n            text: ''\n        });\n        this.props.isClose();\n    }\n\n    handleUserData(event) {\n        this.setState({\n            [event.target.name]: event.target.value,\n        });\n    }\n\n    render() {\n        return (\n            <div className={`popup-edit ${this.props.isOpen && 'popup_is-opened'}`}>\n                <div className=\"popup__content\">\n                    <img onClick={this.props.isClose} src={close} alt=\"\" className=\"popup__close\" />\n                    <h3 className=\"popup__title\">Новый пост</h3>\n                    <form onSubmit={this.handleSubmit} className=\"popup__form\" name=\"new\">\n                        <div>\n                            <input value={this.state.link} onChange={this.handleUserData} type=\"url\" pattern='^(http|https):\\/\\/\\w*.\\w*.\\w*.+' autoComplete=\"off\" name=\"link\"\n                                className=\"popup__input popup__input_type_link-url\" placeholder=\"Ссылка на картинку\" required />\n                            <div className=\"error\"></div>\n                        </div>\n                        <div>\n                            <input value={this.state.text} onChange={this.handleUserData} type=\"text\" autoComplete=\"off\" name=\"text\" className=\"popup__input popup__input_type_name\"\n                                placeholder=\"Ваш текст для поста\" required maxLength=\"30\" minLength=\"2\" />\n                            <div className=\"error\"></div>\n                        </div>\n\n                        <button className=\"button popup__button\">+</button>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapDispatchToProps = {\n    createPost,\n};\n\n// соединяем хранище с компоненотом\nexport default connect(null, mapDispatchToProps)(PopupAddPost);","import {React, useEffect } from 'react';\nimport Post from './Post';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchPosts } from '../redux/actions';\n\nexport default function ServerPosts() {\n    const dispatch = useDispatch(); // с помощью этого создаем action creater, который принимает action\n    const serverPost = useSelector(state => state.posts.serverPost); //обозначаем, что нужно \"достать\" и хранилища\n    \n\n    useEffect(() => { // чтобы избежать ошибки типа Cannot update a component (`...`) while rendering a different component \n        dispatch(fetchPosts()); // вызываем action creater и нужным action\n      });\n\n    if (!serverPost) { return(<></>) };\n    return serverPost.map((item, index) => {\n        return <Post key={index + ' qwe'} post={item} />\n    });\n};","import '../style/main.css';\nimport Profile from './Profile';\nimport Posts from './Posts';\nimport AddPost from './AddPost';\nimport PopupEditor from './PopupEditor';\nimport PopupAddPost from './PopupAddPost';\nimport React from 'react';\nimport ServerPost from './ServerPost';\n\nfunction Main() {\n\n  // Хук. isEditProfilePopupOpen - состоние, setisEditProfilePopupOpen - функция для изменения состояния\n  const [isEditProfilePopupOpen, setisEditProfilePopupOpen] = React.useState(false);\n  const [isAddPostPopupOpen, setisAddPostPopupOpen] = React.useState(false);\n\n  // меняет внутреннее состояние на противоположное\n  function handleEditProfileClick() {\n    setisEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPostClick() {\n    setisAddPostPopupOpen(!isAddPostPopupOpen);\n  }\n\n\n  function closeAllPopups() {\n    setisEditProfilePopupOpen(false);\n    setisAddPostPopupOpen(false);\n  }\n\n  return (\n    <div>\n      <main className='main'>\n        {/* передаем функцию, которая будет менять состоние у попапа (другого компонента)  */}\n        <Profile openEditor={handleEditProfileClick} />\n        <section className='posts-place'>\n          <Posts />\n          <ServerPost />\n        </section>\n        <AddPost openAddPoster={handleAddPostClick} />\n      </main>\n      <section className='popups'>\n        {/* попапу передаем текущее состяние и функцию для изменения состояния (закрытия попапа) */}\n        <PopupEditor\n          isOpen={isEditProfilePopupOpen}\n          isClose={closeAllPopups}\n        />\n        <PopupAddPost isOpen={isAddPostPopupOpen} isClose={closeAllPopups} />\n      </section>\n    </div>\n  );\n}\n\nexport default Main;\n","import { CREATE_POST, SERVER_POSTS } from './types';\n// в данном файле в зависимости от типа действия action выполняем ту или иную логику\n\n//задаем начальное состояние для постов\nconst initialState = {\n    posts: [],\n    serverPost: []\n};\n//\nexport const postsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case CREATE_POST: // новые посты\n            //action.payload - посты. Добавляем посты в массив постов, откуда берем из для отображения\n            return { ...state, posts: state.posts.concat([action.payload]) };\n        case SERVER_POSTS: // загружаемые с сервера\n            return { ...state, serverPost: action.payload };\n        default:\n            return state;\n    }\n};","import { getCookie } from '../helpers/getCookie';\nimport { NEW_INFO } from './types';\n// в данном файле в зависимости от типа действия action выполняем ту или иную логику\n\n//задаем начальное состояние для постов\nconst initialState = {\n    profile: {\n        urlAvatar: document.cookie ? getCookie().urlAvatar : '',\n        nameUser: document.cookie ? getCookie().userName : 'Press: Edit',\n        userID: document.cookie ? getCookie().userID : ''\n    },\n};\n//\nexport const profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case NEW_INFO: // новые данные профиля\n            //action.infoProfile - информация о профиле.\n            return { ...state, profile: action.payload };\n        default:\n            return state;\n    }\n};","import { combineReducers } from 'redux';\nimport { postsReducer } from './postReducer';\nimport { profileReducer } from './profileReducer';\n// файл отвечает за то, чтобы все редюсеры были видны\nexport const rootReducer = combineReducers({\n    posts: postsReducer,\n    profile: profileReducer\n});","//главный файл\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Main from './components/Main';\nimport { createStore } from 'redux';\nimport { rootReducer } from './redux/rootReducer';\nimport { Provider } from 'react-redux';\n\nconst store = createStore(rootReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\nconst app = (\n  <Provider store={store}>\n    <Main />\n  </Provider>\n)\nReactDOM.render(\n  app,\n  document.querySelector('.div')\n);\n"],"sourceRoot":""}